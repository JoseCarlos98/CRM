<div class="absolute inset-0 flex flex-col min-w-0 overflow-y-auto c-home" cdkScrollable>

    <!-- Header -->
    <div class="bg-card">
        <div class="flex flex-col w-full mx-auto px-6 sm:px-8">

            <!-- FILTERS  -->
            <form class="row mt-5 mb-5" [formGroup]="formFilters">
                <div class="col-12">

                    <div class="section-title row d-flex justify-content-between align-items-center">

                        <div class="col-md-7 col-sm-12 col-12 title">
                            Cotizaciones
                            <span class="color-green">$50,760.00</span>
                        </div>

                        <div class="col-md-5 col-sm-12 col-12 btns-section">
                            <button class="btn-newRegister ml-3 px-1 sm:px-4 min-w-10" (click)="newQuotes()">
                                <mat-icon class="show-icon">add</mat-icon>
                                <span class="hidden sm:inline-block">Crear nueva cotización</span>
                            </button>
                        </div>
                    </div>

                    <div class="row d-flex align-items-center">

                        <div class="flex col-sm-12  col-md-6 col-lg-3 col-12 pe-2">
                            <mat-form-field class="flex-auto">
                                <mat-label>Estatus</mat-label>
                                <mat-select placeholder="Seleccionar" formControlName="estatus">
                                    <mat-option value="estatus-1">estatus 1</mat-option>
                                    <mat-option value="estatus-2">estatus 2</mat-option>
                                    <mat-option value="estatus-3">estatus 3</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>

                        <div class="flex col-sm-12 col-md-6 col-lg-3 col-12 pe-2">
                            <mat-form-field class="flex-auto">
                                <mat-label>Agente</mat-label>
                                <mat-select placeholder="Seleccionar" formControlName="agent">
                                    <mat-option value="Agente-1">Agente 1</mat-option>
                                    <mat-option value="Agente-2">Agente 2</mat-option>
                                    <mat-option value="Agente-3">Agente 3</mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>

                        <div class="flex col-sm-12 col-md-6 col-lg-3 col-12 pe-2">
                            <mat-form-field class="flex-auto">
                                <mat-label>Rango de fechas</mat-label>
                                <mat-date-range-input [max]="fechaHoy" [rangePicker]="campaignOnePicker"
                                    [comparisonStart]="formFilters.value['rangeDateStart']"
                                    [comparisonEnd]="formFilters.value['rangeDateEnd']">
                                    <input matStartDate placeholder="Inicio" formControlName="rangeDateStart" />
                                    <input matEndDate placeholder="Final" formControlName="rangeDateEnd" />
                                </mat-date-range-input>

                                <mat-datepicker-toggle matIconSuffix [for]="campaignOnePicker"></mat-datepicker-toggle>
                                <mat-date-range-picker #campaignOnePicker></mat-date-range-picker>
                            </mat-form-field>
                        </div>

                        <div class="flex col-sm-12 col-md-6 col-lg-3 col-12">
                            <button class="btn-search " (click)="searchWithFilters()">
                                <span>Buscar</span>
                            </button>
                        </div>

                    </div>

                    <div class="row d-flex">

                        <div class="d-flex col-md-5 col-xl-5 col-12 pt-md-2">
                            <div class="input-search">
                                <input type="text" placeholder="Búscar">
                                <mat-icon class="icon-size-6" matSuffix [svgIcon]="'mat_solid:search'"></mat-icon>
                            </div>
                        </div>

                        <div class="d-flex col-md-7 col-xl-7 col-12 pt-md-2 justify-content-end align-items-end ">
                            <button class="btn-yellow">
                                <span>Excel</span>
                            </button>
                        </div>

                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Main -->
    <div class="flex-auto border-t -mt-px pt-4 sm:pt-6">
        <div class="w-full mx-auto">
            <!-- Tabs -->
            <mat-tab-group class="sm:px-2" mat-stretch-tabs="false" [animationDuration]="'0'">

                <mat-tab label="Día">
                    <ng-template matTabContent>
                        <div class="row">
                            <div class="col-12 contenedor-scroll-tabla">
                                <table mat-table #table [dataSource]="dataSource"
                                    class="w-100 tabla-personalizada-default">
                                    <caption></caption>

                                    <ng-container matColumnDef="empresa">
                                        <th mat-header-cell *matHeaderCellDef>Empresa</th>
                                        <td mat-cell *matCellDef="let element">
                                            <div class="table-column-reck-solution">
                                                <img src="../../../../assets/images/logo/prospects-icon.png" alt="">
                                                <span class="cursor-pointer">{{element.empresa}}</span>
                                            </div>

                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="fechaYHora">
                                        <th mat-header-cell *matHeaderCellDef>Fecha y hora</th>
                                        <td mat-cell *matCellDef="let element">
                                            {{ element.fechaYHora }}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="folio">
                                        <th mat-header-cell *matHeaderCellDef>Folio</th>
                                        <td mat-cell *matCellDef="let element">
                                            {{ element.folio }}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="documentos">
                                        <th mat-header-cell *matHeaderCellDef>Documentos</th>
                                        <td mat-cell *matCellDef="let element">
                                            <div class="table-column-documentos"
                                                *ngFor="let info of element.documentos">
                                                <span (click)="seeQuote()">{{ info.cotizacion }}</span>
                                                <span (click)="seeQuote()">{{ info.cotizacionAprobada }}</span>
                                            </div>
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="estatus">
                                        <th mat-header-cell *matHeaderCellDef>Estatus</th>
                                        <td mat-cell *matCellDef="let element">
                                            <div class="table-column-lead">
                                                {{ element.estatus }}
                                            </div>
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="precioTotal">
                                        <th mat-header-cell *matHeaderCellDef>Precio total</th>
                                        <td mat-cell *matCellDef="let element">
                                            {{ element.precioTotal }}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="lugares">
                                        <th mat-header-cell *matHeaderCellDef>Lugares</th>
                                        <td mat-cell *matCellDef="let element">
                                            <div class="colum-tabla-tabla-content">
                                                <table class="table table-bordered">
                                                    <thead>
                                                        <tr>
                                                            <th scope="col">#</th>
                                                            <th scope="col">Tipo</th>
                                                            <th scope="col">Lugares</th>
                                                            <th scope="col">Curso</th>
                                                            <th scope="col">Precio</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr *ngFor="let item of element.lugares">
                                                            <td>{{item.no}}</td>
                                                            <td>{{item.tipo}}</td>
                                                            <td>{{item.lugares}}</td>
                                                            <td>{{item.curso}}</td>
                                                            <td>{{item.precio}}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="nivelInteres">
                                        <th mat-header-cell *matHeaderCellDef>Nivel de interés</th>
                                        <td mat-cell *matCellDef="let element">
                                            <div class="colum-interest interest-high">
                                                {{ element.nivelInteres }}
                                            </div>
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="estadopais">
                                        <th mat-header-cell *matHeaderCellDef>Estado / País</th>
                                        <td mat-cell *matCellDef="let element">
                                            {{ element.estadopais }}
                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="acciones">
                                        <th mat-header-cell *matHeaderCellDef>Acciones</th>
                                        <td mat-cell *matCellDef="let element">
                                            <div class="colum-table-select">
                                                <mat-form-field class="flex-auto">
                                                    <mat-select placeholder="Seleccionar">
                                                        <mat-option class="border-bottom"
                                                            value="estatus-1">Formailzar</mat-option>
                                                        <mat-option class="border-bottom"
                                                            value="estatus-1">Aceptar</mat-option>
                                                        <mat-option class="border-bottom"
                                                            value="estatus-1">Descartada</mat-option>
                                                        <mat-option class="border-bottom"
                                                            value="estatus-1">Cancelada</mat-option>
                                                        <mat-option class="border-bottom" value="estatus-1">Cerrar como
                                                            venta</mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>

                                        </td>
                                    </ng-container>

                                    <ng-container matColumnDef="operaciones">
                                        <th mat-header-cell *matHeaderCellDef>Operaciones</th>
                                        <td mat-cell *matCellDef="let element">
                                            <div class="c-column-btns">

                                                <div class="btn-edit" (click)="seeQuote()">
                                                    <mat-icon matTooltip="Editar">edit_square</mat-icon>
                                                </div>

                                                <div class="btn-wallet">
                                                    <mat-icon matTooltip="Billetara">wallet</mat-icon>
                                                </div>

                                                <div class="btn-receipt">
                                                    <mat-icon matTooltip="Factura">receipt_long</mat-icon>
                                                </div>

                                                <div class="btn-print">
                                                    <mat-icon matTooltip="Descagar">print</mat-icon>
                                                </div>

                                            </div>
                                        </td>
                                    </ng-container>


                                    <tr *matNoDataRow>
                                        <td class="mat-cell" [attr.colspan]="displayedColumns.length">
                                            <h5 class="text-center my-5">No se encontraron resultados.</h5>
                                        </td>
                                    </tr>
                                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                                </table>
                            </div>

                            <!-- <div class="d-flex justify-content-end" style="background: none;"> 
                                <mat-paginator
                                    #paginator
                                    [length]="total"
                                    [pageIndex]="indicePagina"
                                    [pageSize]="longitudPagina"
                                    [pageSizeOptions]="[5, 10, 25, 50, 100]"
                                    (page)="cambiaPagina($event)"
                                    class="w-100"
                                ></mat-paginator>
                            </div> -->
                        </div>

                    </ng-template>
                </mat-tab>

                <mat-tab label="Mes">
                    <ng-template matTabContent>
                        <div class="grid grid-cols-1 w-full min-w-0">
                            <h1>En desarrollo...</h1>
                        </div>
                    </ng-template>
                </mat-tab>

                <mat-tab label="Año">
                    <ng-template matTabContent>
                        <div class="grid grid-cols-1 w-full min-w-0">
                            <h1>En desarrollo...</h1>
                        </div>
                    </ng-template>
                </mat-tab>

            </mat-tab-group>
        </div>
    </div>

</div>